<!DOCTYPE html>
<html>
    <head>
        <!--
        Customize this policy to fit your own app's needs. For more guidance, see:
            https://github.com/apache/cordova-plugin-whitelist/blob/master/README.md#content-security-policy
        Some notes:
            * gap: is required only on iOS (when using UIWebView) and is needed for JS->native communication
            * https://ssl.gstatic.com is required only on Android and is needed for TalkBack to function properly
            * Disables use of inline scripts in order to mitigate risk of XSS vulnerabilities. To change this:
                * Enable inline JS: add 'unsafe-inline' to default-src
        -->
        <!--<meta http-equiv="Content-Security-Policy" content="default-src 'self' data: gap: https://ssl.gstatic.com 'unsafe-eval' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; media-src *; img-src 'self' data: content:;">
        -->
        <meta http-equiv="Content-Security-Policy" content=" default-src 'self' data: gap: *; script-src 'self' 'unsafe-inline' 'unsafe-eval' *; style-src 'self' 'unsafe-inline' 'unsafe-eval' *; media-src 'self' 'unsafe-inline' 'unsafe-eval'
            *; img-src 'self' 'unsafe-inline' 'unsafe-eval' * ">
      
        <!-- <meta http-equiv="Content-Security-Policy" content="default-src 'self' data: gap: https://ssl.gstatic.com 'unsafe-eval'; style-src 'self' 'unsafe-inline'; media-src *; img-src 'self' data: content:;">
       --><meta name="format-detection" content="telephone=no">
        <meta name="msapplication-tap-highlight" content="no">
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">
       
        <!-- Main Stylesheet File -->
    <link rel="stylesheet" type="text/css" href="css/style.css" >
        <title>Hello World</title>
    </head>
    <body>
        <div class="app">
           
            <body>
               <!--<a href="file:///C:/Users/Alexandre%20Bernard/Downloads/Projet_echo/Code_Git/Echo/www/settings.html">-->
                <div class="settings">
                <img src="img/icons8-services-filled-50.png" alt="settings_logo">
                </div>
                <!-- DEBUT MAP -->
                <div id="map"></div>
                <script type="text/javascript">
                  // Note: This example requires that you consent to location sharing when
                  // prompted by your browser. If you see the error "The Geolocation service
                  // failed.", it means you probably did not give permission for the browser to
                  // locate you.
            
                  function initMap() {
                    var map = new google.maps.Map(document.getElementById('map'), {
                      center: {lat: -34.397, lng: 150.644},
                      zoom: 6
                    });
                    var infoWindow = new google.maps.InfoWindow({map: map});
            
                    // Try HTML5 geolocation.
                    if (navigator.geolocation) {
                      navigator.geolocation.getCurrentPosition(function(position) {
                        var pos = {
                          lat: position.coords.latitude,
                          lng: position.coords.longitude
                        };
            
                        infoWindow.setPosition(pos);
                        infoWindow.setContent('Votre position actuelle');
                        map.setCenter(pos);
                      }, function() {
                        handleLocationError(true, infoWindow, map.getCenter());
                      });
                    } else {
                      // Browser doesn't support Geolocation
                      handleLocationError(false, infoWindow, map.getCenter());
                    }
                  }
            
                  function handleLocationError(browserHasGeolocation, infoWindow, pos) {
                    infoWindow.setPosition(pos);
                    infoWindow.setContent(browserHasGeolocation ?
                                          'Error: The Geolocation service failed.' :
                                          'Error: Your browser doesn\'t support geolocation.');
                  }
            
                  function maPosition(position) {
                    var infopos = "Position déterminée :\n";
                    infopos += "Latitude : "+position.coords.latitude +"\n";
                    infopos += "Longitude: "+position.coords.longitude+"\n";
                    infopos += "Altitude : "+position.coords.altitude +"\n";
                    document.getElementById("infoposition").innerHTML = infopos;
                  }
            
                  if(navigator.geolocation)
                  navigator.geolocation.getCurrentPosition(maPosition);
                </script>
                <script async defer
                src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDGi70Y2v5-W36JKM6rfya32lTYEeC51TU&callback=initMap">
                </script>
                <!-- / FIN MAP -->
            
                <!-- DEBUT Boutons Texte + Voix -->
                <div class="buttons_index">
                    <h1 id="tts">SAY HELLO WORLD !! </h1>
                    <a href="texte.html" class="btn-text">
                      <span>TEXTE</span>
                    </a>
            
                    <a href="#" class="btn-voice">
                      <span>AUDIO</span>
                    </a>
                </div>


        </div>
        <script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript" src="js/index.js"></script>
    </body>
</html>

<script type="text/javascript">


document.addEventListener('DOMContentLoaded', function () {
   document.getElementById('tts').addEventListener('click', speak);
 });

  
 function speak() {
 // basic usage
 TTS
     .speak('hello, world!').then(function () {
         alert('success');
     }, function (reason) {
         alert(reason);
     });
}
</script>